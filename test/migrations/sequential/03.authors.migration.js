
'use strict';

/***********************************************************************************************************************************************
 * NODE DB MIGRATE - AUTHORS
 ***********************************************************************************************************************************************
 * @author File generated by @liveaxle/node-pg-migrate
 * @description
 * 
 */

/**
 * [exports description]
 * @type {Object}
 */
module.exports = {
  up, down
};

/**
 * [up description]
 * @return {[type]} [description]
 */
async function up(client) {
  return await (client.schema.raw(`
    CREATE TABLE IF NOT EXISTS authors (
      id serial PRIMARY KEY,
      user_id serial REFERENCES users,
      book_id serial REFERENCES books
    );

    INSERT into authors (user_id, book_id) VALUES (1, 1);
    INSERT into authors (user_id, book_id) VALUES (2, 2);
    INSERT into authors (user_id, book_id) VALUES (3, 3);
  `))
}

/**
 * [down description]
 * @return {[type]} [description]
 */
async function down(client) {
  return await client.schema.dropTable('authors');
}
  